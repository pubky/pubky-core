<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/pubky.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pubky Auth Demo</title>
    <link rel="stylesheet" href="./src/index.css" />
    <script type="module" src="/src/pubky-auth-widget.js"></script>
  </head>
  <body>
    <pubky-auth-widget
      id="widget"
      relay="https://httprelay.staging.pubky.app/link"
    >
    </pubky-auth-widget>

    <main>
      <h1>Third Party app!</h1>
      <p>
        This is a demo for using Pubky Auth in an unhosted (no backend) app.
      </p>
      <form>
        <label style="display: block">
          <input
            type="checkbox"
            onChange="document.getElementById('widget').switchTestnet()"
          />Testnet (use local test network)
        </label>
        <label style="display: block">
          <input
            type="checkbox"
            onChange="let w = document.getElementById('widget'); w.caps.length > 0 ? w.setCapabilities(null) : w.setCapabilities('/pub/pubky.app/:rw,/pub/example.com/nested:rw')"
          />Authz (Authorization with some capability e.g. "/pub/pubky.app/:rw".
          Set if your pubky has an account on a Homeserver)
        </label>
      </form>
    </main>
  </body>
</html>
