[workspace]
members = [
  "pubky-*",
  "pubky-client/bindings/js",
  "http-relay",
  "pkarr-republisher",
  "examples",
  "e2e",
]
default-members = [
  "pubky-common",
  "pkarr-republisher",
  "pubky-homeserver",
  "http-relay",
  "pubky-testnet",
  "pubky-client",
] # `ws publish` will only attempt to publish these ones. 
resolver = "2"

[workspace.package]
edition = "2021"
authors = [
  "SeverinAlexB <severin@synonym.to>",
  "SHAcollision <shacollision@synonym.to>",
  "Nuh <nuh@nuh.dev>",
]
license = "MIT"
homepage = "https://github.com/pubky/pubky-core"
repository = "https://github.com/pubky/pubky-core"


[profile.release]
lto = true
opt-level = 'z'


[workspace.dependencies]
# Setting "default-features = false" because cargo doesn't allow member crates to override the root "default-features" flag, which if not set, is implied to be true.
# Member crates that need "default-features = false" should leave it out of their dependency specification, as it's inherited from here.
# Member crates that need "default-features = true" should add a "default" feature to the features list, which is equivalent.
pkarr = { version = "3.10.0", default-features = false }
mainline = { version = "5.4.0" }
pkarr-relay = { version = "0.11.0" }
